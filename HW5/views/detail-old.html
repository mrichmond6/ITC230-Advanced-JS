<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

{{#if result}}
    <h2>{{result}} - {{ham.callsign}}</h2>
{{else if ham.callsign}}
    {{#if ham._id}}
    <h2>Edit - {{ham.callsign}}</h2>
    {{else}}
    <h2>Add new - {{ham.callsign}}</h2>
    {{/if}}
{{/if}}

{{#if ham.callsign}}
<form method="POST" action="/add">
    
    <input type="text" name="callsign" placeholder="callsign" value="{{ham.callsign}}" required maxlength="100">
    
    <input type="text" name="operator" placeholder="operator" value="{{ham.operator}}" maxlength="100">
    
    <input type="text" name="zip" placeholder="zip"  value="{{ham.zip}}"maxlength="25">
    
    <input type="hidden" name="id" value="{{ham._id}}">
    
    <button>{{#if ham._id}}Update{{else}}Add{{/if}}</button>
    <button>Delete</button>
</form>
{{/if}}

<script>
    $(document).ready(function(){
        var buttons = $('button');
        buttons.on('click', function() {
            var $this = $(this);
            var action = $this.text().toLowerCase();
            if (action == 'update') { action = 'add'; }
            $("form").attr("action", "/"+action);
        });
    });
</script>
</body>