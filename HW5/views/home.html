<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
{{#if callsign}}
    <h2>Hi {{callsign}}</h2>
{{/if}}

<form method="POST" action="/search">
    <input type="text" name="callsign" placeholder="Enter Calllsign" required maxlength="25">
    <button>Search</button>
</form>
<hr>
<table>
    {{#if hams}} 
    <tr>
        <th>Callsign</th>
        <th>Operator</th>
        <th>Zip</th>
    </tr>
    {{/if}}
    
{{#each hams}}
    <tr onclick="javascript:editHam(this);">
        <td>{{callsign}}</td>
        <td>{{operator}}</td>
        <td>{{zip}}</td>
    </tr>
{{/each}}
</table>


<script>
    $(document).ready(function(){
        var buttons = $('button');
        
        buttons.on('click', function() {
            var $this = $(this);
            var action = $this.text();
            $("form").attr("action", "/" + action);
        });
    });
    
    function editHam(row) {
        var ham = $(row).children().first().text();
        location.href = "/detail/" + ham;
    }
    
</script>
</body>